# 虚拟DOM

## 虚拟DOM的优缺点

### 优点：

* 保证性能下限：框架的虚拟DOM所需要适配任何上层API可能产生的操作，它的一些DOM操作的实现必须是普适的，所有它的性能并不是最优的；但是比起粗暴的DOM操作性能要好很多，因此框架的虚拟DOM至少可以保证你不需要手动优化的情况下，依然可以提供还不错的性能，即保证性能的下限；
* 无需手动操作DOM：我们不再需要手动去操作DOM，只需要写好View-Model的代码逻辑，框架会根据虚拟DOM和数据双向绑定，帮我们以可预期的方式更新视图，极大提高我们的开发效率
* 跨平台：虚拟DOM本质上是JavaScript对象，而DOM这与平台强相关，相比之下虚拟DOM可以进行更方便地跨平台操作，例如服务器渲染、weex开发等等

### 缺点

* 无法进行极致优化：虽然虚拟DOM + 合理的优化，足以应对绝大部分应用的性能需求，但在一些性能要求极高的应用中虚拟DOM无法进行针对想的极致优化

## 虚拟DOM的实现原理

主要包括以下3个部分

* 用JavaScript对象模拟真实DOM树，对真实DOM进行抽象
* diff算法 —— 比较两颗虚拟DOM树的差异
* pach算法 —— 将两个虚拟DOM对象的差异应用到真正的DOM树