# 闭包

## 定义

闭包就是能够读取其他函数内部变量的函数。在javascript中，只有函数内部的子函数才能读取局部变量，所以闭包可以理解成“定义在一个函数内部的函数”。本质上，闭包是将函数内部和函数外部链接起来的桥梁

## 特点

* 可以通过闭包访问封闭的内部变量
* 局部变量会常驻在内存中
* 可以避免使用全局变量，防止全局污染
* 会造成内存泄漏（有一块内存空间被长期占用，而不被释放）

## 创建闭包

闭包就是可以创建一个独立的环境，每个闭包里面的环境都是独立的，互不干扰。闭包会发生内存泄漏，每次外部函数执行的时候，外部函数的引用地址不同，都会重新创建一个新的地址。但凡是当前活动对象中有被内部子集引用的数据，此时，这个数据不删除，保留一根指针给内部对象

## 内存泄漏

闭包内存泄漏为：key = value，key被删除了value常驻内存中；局部变量闭包升级版（中间引用的变量）=> 自由变量；

结论：闭包找到的是同一地址中父级函数中对应变量的最终值

