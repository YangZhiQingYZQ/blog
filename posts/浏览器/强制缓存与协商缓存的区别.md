# 强制缓存与协商缓存的区别

## 强制缓存

浏览器在发送请求时，会先去获取资源缓存的header信息，若命中强缓存信息（cache-control或expires），浏览器就会直接从浏览器获取资源，而不向服务器发送请求了，返回的状态码时200 OK(from memory cache)或200 OK（from disk cache）；

* max-age：根据该值计算一个资源过期时间，如果请求时间在过期时间之前，则命中缓存
* no-cache：不使用本地缓存。需要使用缓存协商，先与服务器确认返回的相应是否被更改，如果之前的响应中存在ETag，那么请求的时候会与服务端验证，如果资源未被更改，则可以避免重新下载
* no-store：直接禁止浏览器缓存数据，每次用户请求该资源，都会向服务器发送一个请求，每次都会下载完整的资源
* public：可以被所有的用户缓存，包括终端用户和CDN等中间代理服务器
* private：只能被中断用户的浏览器缓存，不允许CDN等中继缓存五福对其缓存

## 协商缓存

协商缓存是浏览器通过发送请求让服务器告知浏览器缓存是否可用，请求会携带第一次请求返回的有关缓存header字段信息（Last-Modified/If-Modified-Since 和 Etag/If-None-Match）。由服务器根据请求中的相关header信息来比对结果是否协商缓存命中，若命中浏览器会返回新的header信息更新缓存中对应的header信息，但不会返回资源内容


